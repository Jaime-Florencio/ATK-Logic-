# ğŸ¯ Trigger (Disparo de Captura)

## ğŸ“Œ DefiniÃ§Ã£o
O **trigger** Ã© o mecanismo que define **quando** a captura de dados inicia no analisador lÃ³gico.  
Sem trigger, a aquisiÃ§Ã£o ocorreria de forma contÃ­nua e desorganizada, dificultando a identificaÃ§Ã£o de eventos de interesse.  
Com ele, podemos capturar **pontos especÃ­ficos** (bordas, nÃ­veis ou combinaÃ§Ãµes lÃ³gicas) e analisar o que ocorre **antes e depois** do evento.

---

## ğŸšï¸ Trigger Threshold (Limiar de Disparo)

O **threshold** Ã© a **tensÃ£o de referÃªncia** usada para distinguir entre `0` e `1` no domÃ­nio digital.  
Funciona como o â€œcorteâ€ definido em um comparador:

- TensÃµes **acima de Vth** â†’ interpretadas como **lÃ³gica alta (1)**.  
- TensÃµes **abaixo de Vth** â†’ interpretadas como **lÃ³gica baixa (0)**.  

ğŸ”¹ Recomenda-se configurar em aproximadamente **50% da amplitude do sinal**:


```
Vth = (Vmax - Vmin) / 2
```


âš ï¸ Se o threshold for configurado incorretamente, bits podem ser interpretados de forma errada.  

ğŸ“· Exemplo do manual (ajuste de threshold):  
![Trigger Threshold](../assets/trigger_icons_channel0.png)

---

## ğŸ“ Trigger Position (PosiÃ§Ã£o do Trigger)

A **posiÃ§Ã£o do trigger** define onde o evento serÃ¡ exibido dentro da **janela de captura**.  
Isso permite analisar **o que aconteceu antes** e **o que acontece depois** do evento.

- **Trigger no inÃ­cio** â†’ mostra principalmente os dados **apÃ³s** o evento.  
- **Trigger no meio (50%)** â†’ divide igualmente antes e depois.  
- **Trigger no final** â†’ prioriza a anÃ¡lise dos dados **anteriores**.  

ğŸ“· Exemplo visual (linha azul do trigger na forma de onda):  
![Trigger Position Waveform](../assets/trigger_position_waveform.png)

ğŸ“· Ajuste da posiÃ§Ã£o do trigger no software:  
![Trigger Position Slider](../assets/trigger_position_slider.png)

---

## âš¡ Trigger Condition (CondiÃ§Ãµes de Disparo)

As **condiÃ§Ãµes de trigger** definem o evento exato que dispara a captura.  
O ATK-Logic oferece as seguintes opÃ§Ãµes:

ğŸ“· Ãcones usados no software:  
![Trigger Icons Legend](../assets/trigger_icons_legend.png)

- **Rising edge** â†’ borda de subida  
- **High level** â†’ nÃ­vel alto  
- **Falling edge** â†’ borda de descida  
- **Low level** â†’ nÃ­vel baixo  
- **edge** â†’ qualquer transiÃ§Ã£o  

AlÃ©m disso, Ã© possÃ­vel combinar condiÃ§Ãµes em **mÃºltiplos canais** usando uma relaÃ§Ã£o **AND lÃ³gica**.  
Nesse caso, a captura sÃ³ ocorre se **todas as condiÃ§Ãµes forem atendidas ao mesmo tempo**.  

ğŸ“· Exemplo com mÃºltiplos canais (D0 a D7):  
![Trigger Multi Channels](../assets/trigger_multi_channels.png)

ğŸ“· Exemplo do manual (captura do valor `0x45` em um barramento paralelo de 8 bits):  
![Trigger Condition](../assets/trigger_condition.png)

---

## ğŸ“ Exemplos PrÃ¡ticos

- **Protocolo UART**  
  Configurar **falling edge** para capturar o **start bit** de cada frame.  

- **Barramento paralelo (8 bits)**  
  Definir condiÃ§Ã£o para capturar somente quando o valor **0x45** estiver presente.  

- **Sinais periÃ³dicos**  
  Usar **rising edge** para sincronizar a captura em ciclos especÃ­ficos.  

---

## ğŸ§© Resumindo

| Conceito             | O que faz                                                                 | Onde usar                                           |
|-----------------------|---------------------------------------------------------------------------|-----------------------------------------------------|
| **Threshold**         | Define a tensÃ£o que separa 0 de 1                                         | Ajustar para 50% da amplitude do sinal              |
| **Position**          | Define o ponto da janela em que o trigger aparece                        | Observar antes e depois do evento                   |
| **Condition**         | Define a condiÃ§Ã£o que dispara a captura                                  | Protocolos seriais, barramentos, sinais periÃ³dicos  |
| **CombinaÃ§Ã£o AND**    | Exige que vÃ¡rias condiÃ§Ãµes sejam verdadeiras ao mesmo tempo              | Captura em paralelo (ex.: barramento de 8 bits)     |

---

## ğŸ“– ReferÃªncias
- ATK-Logic User Manual, seÃ§Ãµes **5.8 (Trigger Threshold)**, **5.9 (Trigger Position)** e **5.10 (Trigger Condition)**.
